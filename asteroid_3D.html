<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8">
        <title>Asteroid 3D</title>
        <link rel="stylesheet" href="src/css/main.css">
        <link rel="stylesheet" href="src/css/dat.gui.css">
        <link rel="icon" type="image/png" href="src/medias/images/icon.png">

        <script type="text/javascript" src="src/lib/jquery.js"></script>
        <script type="text/javascript" src="src/lib/three.js"></script>
        <script type="text/javascript" src="src/lib/MTLLoader.js"></script>
        <script type="text/javascript" src="src/lib/OBJLoader.js"></script>
        <script type="text/javascript" src="src/lib/FireShader.js"></script>
        <script type="text/javascript" src="src/lib/dat.gui.min.js"></script>
        <script type="text/javascript" src="src/lib/ShaderExtras.js"></script>
        <script type="text/javascript" src="src/lib/SPE.js"></script>
        <script type="text/javascript" src="src/lib/Howler.min.js"></script>
		<script src="src/lib/EffectComposer.js"></script>
		<script src="src/lib/ShaderPass.js"></script>
		<script src="src/lib/MaskPass.js"></script>
		<script src="src/lib/RenderPass.js"></script>
		<script src="src/lib/BloomPass.js"></script>
        <script src="src/lib/FilmPass.js"></script>
        <script src="src/lib/CopyShader.js"></script>
        <script src="src/lib/ConvolutionShader.js"></script>
        <script src="src/lib/FilmShader.js"></script>

        <script type="text/javascript" src="src/js/ResizableObject.js"></script>
        <script type="text/javascript" src="src/js/EventHandler.js"></script>
        <script type="text/javascript" src="src/js/Viewport.js"></script>
        <script type="text/javascript" src="src/js/GameParameters.js"></script>
        <script type="text/javascript" src="src/js/CameraHandler.js"></script>
        <script type="text/javascript" src="src/js/AudioHandler.js"></script>
        <script type="text/javascript" src="src/js/Jokers.js"></script>
        <script type="text/javascript" src="src/js/GameUI.js"></script>
        <script type="text/javascript" src="src/js/GameCore.js"></script>
        <script type="text/javascript" src="src/js/Storage.js"></script>
        <script type="text/javascript" src="src/js/Score.js"></script>
        <script type="text/javascript" src="src/js/Shield.js"></script>
        <script type="text/javascript" src="src/js/Fire.js"></script>
        <script type="text/javascript" src="src/js/TextureLoader.js"></script>
        <script type="text/javascript" src="src/js/Bullet.js"></script>
        <script type="text/javascript" src="src/js/Spaceship.js"></script>
        <script type="text/javascript" src="src/js/Asteroid.js"></script>
        <script type="text/javascript" src="src/js/Starfield.js"></script>
        <script type="text/javascript" src="src/js/main.js"></script>
        <script type="text/javascript" src="src/js/Explosion.js"></script>
        <script type="text/javascript" src="src/js/dat.js"></script>
        <script type="text/javascript" src="src/js/Spaceman.js"></script>
        <script type="text/javascript" src="src/js/WorldWrapper.js"></script>

    </head>
    <body>
        <div id="preLoader">
            <div class="lds-css ng-scope"><div style="width:100%;height:100%" class="lds-pacman"><div><div></div><div></div><div></div></div><div><div></div><div></div></div></div></div>
            <div id="loading">Loading</div>
        </div>
        <div id="title">
            SPACE RUNNER
        </div>
        <div id='welcome'>
            <div id="mainButtons">
                <a href='#' class='custom-link' data-hover="PLAY" id='playButton'>Play</a>
                <a href='#' class='custom-link' data-hover="Best scores" id='scoresButton'>Best scores</a>
                <a href='#' class='custom-link' data-hover="Options" id='optionsButton'>Options</a>
            </div>
        </div>
        <div id="help">
            <div class='controls'>
                <img class='arrows keys' src='src/medias/images/keys/arrows.png'/><br/>
                Move spaceship<br/>
                <img class='keys space' src='src/medias/images/keys/space.png'/><br/>
                Shoot<br/>
                <img class='keys camera' src='src/medias/images/keys/camera.png'/><br/>
                Change camera
            </div>
            <div class='controls'>
                <img class='keys help' src='src/medias/images/keys/help.png'/><br/>
                Display - hide help
                <img class='keys window' src='src/medias/images/keys/window.png'/><br/>
                Fullscreen - Print
                <img class='keys cheat' src='src/medias/images/keys/cheat.png'/><br/>
                Cheat keys
            </div>
        </div>
        <div id="level-up">
        </div>
        <div id="lives">
            Lives :
            <img class='live' src="src/medias/images/live_full.png"/><img class='live' src="src/medias/images/live_full.png"/><img class='live' src="src/medias/images/live_full.png"/></div>

        <div id="loose">
            Game over<br/>
            <small>You scored <span id="finalScore"></span> points</small>
            <div id="newrecord">
                <small>New record !</small>
                <div id="inputContainer">
                    <input type="text" id="pseudoInput" placeholder="Enter a pseudo..."><a href="#" id="submitNewRecord" class="custom-link" data-hover="Save it">Save it</a>
                </div>
            </div>
            <div class="return">
                <small><a href="#" id="returnLoose" class="custom-link" data-hover="Return" >Return</a></small>
            </div>
        </div>
        <div id="score">
            Score : <span id="scoreValue">0</span>
        </div>

        <div id="options">
            <div class='title'>
                Options
            </div>
            <div id="music" class="option">
                <div><label for="sliderMusic" class="sliderLabel">Music volume</label></div>
                <div><input type="range" min="0" max="100" value="100" step="10" class="slider" id="sliderMusic"/></div>
                <div><label for="sliderMusic" class="sliderLabelValue" id="valueSliderMusic">100</label>%</div>
            </div>
            <div id="sounds" class="option">
                <div><label for="sliderSound" class="sliderLabel">Sounds volume</label></div>
                <div><input type="range" min="0" max="100" value="100" step="10" class="slider" id="sliderSound"/></div>
                <div><label for="sliderSound" class="sliderLabelValue" id="valueSliderSound">100</label>%</div>
            </div>
            <div class="return">
                <a href="#" id="returnOptions" class="custom-link" data-hover="Return">Return</a>
            </div>
        </div>

        <div id="escape">
            <div class='title'>
                PAUSED
            </div>
            <div class='buttons'>
                <a href="#" class="custom-link" data-hover="Resume game" id="resumeButton">Resume game</a>
                <a href="#" class="custom-link" data-hover="Exit game" id="endButton">Exit game</a>
            </div>
        </div>
        <div id="scores">
            <div class="title">
                Best scores
            </div>
            <div id="scoresContainer">
            </div>
            <div class="return">
                <a href="#" class="custom-link" data-hover="Return" id="returnScores">Return</a>
            </div>
        </div>
        <script id="vertexShader" type="x-shader/x-vertex">
			uniform vec2 uvScale;
			varying vec2 vUv;
			void main()
			{
				vUv = uvScale * uv;
				vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
				gl_Position = projectionMatrix * mvPosition;
			}
		</script>
        <script id="fragmentShader" type="x-shader/x-fragment">
			uniform float time;
			uniform float fogDensity;
			uniform vec3 fogColor;
			uniform sampler2D texture1;
			uniform sampler2D texture2;
			varying vec2 vUv;
			void main( void ) {
				vec2 position = - 1.0 + 2.0 * vUv;
				vec4 noise = texture2D( texture1, vUv );
				vec2 T1 = vUv + vec2( 1.5, - 1.5 ) * time * 0.02;
				vec2 T2 = vUv + vec2( - 0.5, 2.0 ) * time * 0.01;
				T1.x += noise.x * 2.0;
				T1.y += noise.y * 2.0;
				T2.x -= noise.y * 0.2;
				T2.y += noise.z * 0.2;
				float p = texture2D( texture1, T1 * 2.0 ).a;
				vec4 color = texture2D( texture2, T2 * 2.0 );
				vec4 temp = color * ( vec4( p, p, p, p ) * 2.0 ) + ( color * color - 0.1 );
				if( temp.r > 1.0 ) { temp.bg += clamp( temp.r - 2.0, 0.0, 100.0 ); }
				if( temp.g > 1.0 ) { temp.rb += temp.g - 1.0; }
				if( temp.b > 1.0 ) { temp.rg += temp.b - 1.0; }
				gl_FragColor = temp;
				float depth = gl_FragCoord.z / gl_FragCoord.w;
				const float LOG2 = 1.442695;
				float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );
				fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );
				gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
			}
		</script>
    </body>
</html>
